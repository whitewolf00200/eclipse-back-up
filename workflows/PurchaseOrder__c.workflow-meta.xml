<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Send_Email_to_Supplier_for_PO</fullName>
        <description>Send Email to Supplier for PO</description>
        <protected>false</protected>
        <recipients>
            <field>Supplier_Email__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Purchase_Order/Send_PO_to_Supplier</template>
    </alerts>
    <alerts>
        <fullName>Send_Purchase_Order_To_Supplier</fullName>
        <description>Send Purchase Order To Supplier</description>
        <protected>false</protected>
        <recipients>
            <field>Supplier_Email__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Purchase_Order/Send_PO_to_Supplier</template>
    </alerts>
    <alerts>
        <fullName>Sending_an_acknowledgment</fullName>
        <description>Sending an acknowledgment</description>
        <protected>false</protected>
        <recipients>
            <field>Supplier_Email__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Purchase_Order/Acknowledgement_PO</template>
    </alerts>
    <fieldUpdates>
        <fullName>Change_Stage</fullName>
        <field>Stage__c</field>
        <literalValue>Sent</literalValue>
        <name>Change Stage</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>StopSendAcknowledgement</fullName>
        <field>Send_Acknowledgement__c</field>
        <literalValue>0</literalValue>
        <name>StopSendAcknowledgement</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Address</fullName>
        <field>Address__c</field>
        <formula>Account__r.BillingStreet</formula>
        <name>Update Address</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_City</fullName>
        <field>City__c</field>
        <formula>Account__r.BillingCity</formula>
        <name>Update City</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Country</fullName>
        <field>Country__c</field>
        <formula>Account__r.BillingCountry</formula>
        <name>Update Country</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Postal</fullName>
        <field>Pincode__c</field>
        <formula>Account__r.BillingPostalCode</formula>
        <name>Update Postal</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Shipping_Name</fullName>
        <field>Shipping_Name__c</field>
        <formula>Account__r.Name</formula>
        <name>Update Shipping Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Supplied_Email_Field</fullName>
        <field>Supplier_Email__c</field>
        <formula>Supplier__r.E_mail__c</formula>
        <name>Update Supplied Email Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>AfterSendAcknowledgement</fullName>
        <actions>
            <name>StopSendAcknowledgement</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Stage__c</field>
            <operation>equals</operation>
            <value>Parts Received</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Send PO to Supplier</fullName>
        <actions>
            <name>Send_Email_to_Supplier_for_PO</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Send_an_Email__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>SendPOToSupplier</fullName>
        <actions>
            <name>Send_Purchase_Order_To_Supplier</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Change_Stage</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Send_an_Email__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Sending an Acknowledgement</fullName>
        <actions>
            <name>Sending_an_acknowledgment</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Send_Acknowledgement__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Address</fullName>
        <actions>
            <name>Update_Address</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_City</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Country</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Postal</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Shipping_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Contact_Name__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Supplied Email</fullName>
        <actions>
            <name>Update_Supplied_Email_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PurchaseOrder__c.Supplier_Email__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
</Workflow>
